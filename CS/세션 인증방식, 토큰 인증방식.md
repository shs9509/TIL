# 세션 인증방식, 토큰 인증방식

인증

유저가 누구인지 확인하는 절차



인가

유저에대해서 권한을 허락하는 절차



### 세션 기반인증

로그인하면

서버는 메모리나 DB에 세션을 저장

서버가 웹브라우저 세션ID를 전송해서  쿠키에 저장한다.

브라우저는 로그인 확인을 위해서 매요청마다 세션ID를 쿠키에 담아서 전송한다.

서버는 세션ID 확인하고 요청에 응답한다.

장점

- 서버에서 로그인 확인이 쉽다.
- 서버에서 세션을 관리하기때문에 상대적으로 손상위험이없으니 안전하다.
- 토큰방식처럼 추가적인 정보가 없어서 데터가 작다.

단점

- 대규모 서비스에서는 세션에 많은 메모리를 쓰게할수잇다.
- 메모리에 세션정보는 휘발서이라 정보를 저장하는데 한계가있다
- 쿠키 작동 도메인범위에따라 따로 관리해줘야된다.



### 토큰 기반인증

로그인하면 서버측에서 계정정보를 확인

확인되면 서버가 클라이언트한테 토큰 발급하고 클라이언트를 저장함

클라이언트는 서버가 요청하면 토큰을 헤더에 넣어서 전송한다.

서버는 토큰검사하고 인가해줌

장점

- 서버에 부담을 안줌 - 클라이언트가 토큰을 가짐
- 다양한 도메인을 쓰는데 부담이없음

단점

- 토큰이 탈취가능성이있어 보안에 취약하다.
- 데이터가 크다.
- 토큰 인증에 DB조회를 하니, DB 부하가 있을수 있다.

