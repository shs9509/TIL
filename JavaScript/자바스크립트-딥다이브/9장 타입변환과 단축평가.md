# 타입변환과 단축평가



값의 타입을 의도적으로 바꾸는 적을 "명시적 타입변환", "타입 캐스팅"이라고 한다.

의도와는 상관없이 바꾸는 것을 "암묵적 타입변환", "타입 강제변환" 이라한다.



타입변환은 기존의 원시값에서 새로운 원시값을 생성하는것이다.

그런데 암묵적으로 생성된 값은 한번사용하고 버린다.



이러한 타입변환들은 암묵적이든 명시적이든 예측가능하다면 그걸로 ok 다.



## 암묵적 타입변환



### 문자열타입 변환

`+` 의해서 피연산자중 하나가 문자열인 경우, `+`는 `문자열 연결연산자`로 바뀌어서  문자열 타입으로 변환되는 경우가 있다.

```js
let c = 1+'a' //
console.log(c,typeof c)//1a string
```



### 숫자타입 변환

산술연산자의 피연산자는 모두 숫자 타입이어야한다

```js
1 - '1' // 0
1 * '10' // 10
1 / 'one' // NaN 변환할수없는경우!!
```

비교연산자 역시 크기를 비교할때 숫자타입이여야한다.

```js
1 >'0'// true
```

`+` `-`단항연산자 역시 마찬가지

```js
+'' //0
-'' //-0
```



### 불리언타입 변환

if 나 for 조건에서 곳에서 일어나는 변환이다.

알아둬야할것은 자바스크립트 엔진은 불리언타입이 아닌값을 Truthy 값 또는 Falsy 값으로 구분한다.

이는 참,거짓으로 평가되는것을 나눈 것이다.

그래서 Truthy값이 true, Falsy 값이 false로 암묵적 타입 변환된다고 생각하면된다.

Falsy값을 알아두면 편한대

```js
'';
NaN;
null;
undefined;
0;
false;
```

가 대표적으로 있다.





## 명시적 타입변환

### 문자열 타입 변환

1. String 생성자 함수를 new 연산자없이 호출하는방법
2. Object.prototype.toString 메서드를 사용하는 방법
3. 문자열 연결 연산자르 사용하는 방법



### 숫자 타입 변환

1. Number 생성자 함수를 new 연산자없이 호출하는방법
2. parseInt, parseFloat 함수를 사용하는 방법 (문자열만 변환가능)
3. `+` 단항산술연산자를 이용
4. `+` 산술연산자를 이용



### 불리언 타입 변환

1. Boolean 생성자 함수를 new 연산자없이 호출하는방법

2. ! 부정 논리 연산자를 두번 사용하는 방법





## 단축 평가

&& || 를 쓰는 경우, 결과가 결정되면 뒤의 과정은 생략하는 것이다.



그럼 이게 언제 실질적으로 쓰이느냐는 것인데,

"함수의 기본값을 설정할 때"그리고 "null 이나 undefined를 피할 때 " 쓰인다고 보면 된다.

- 함수의 기본값을 설정할 때

  ```js
  // name ="신형식"
  name = name || '홍길동';
  self = `내이름은 ${name}이야`
  console.log(self)
  ```

  이처럼 name에 값이 없으면 기본값으로 '홍길동' 이 채워진다.

 

- null 이나 undefined를 피할 때 

  ```
  var elem = null;
  var value = elem && elem.value;// null
  ```

  이는 elem.value 가 아예 없기때문에 에러가 뜬다. 그런경우를 막아준다.



근데, ES11에서 "null병합연산자", "옵셔널 체이닝 연산자"가 나와 이점을 해결해준다.



- null병합연산자 , `??`

  애는 왼쪽이 `null`이나 `undefined` 이면 오른쪽을 반환한다.

  그렇지않으면 왼쪽을 반환한다.

  ```js
  var foo = null ?? "good"; //good
  ```



- 옵셔널 체이닝 연산자, `?.`

  애는 왼쪽이 `null`이나 `undefined` 이면 `undefined`를 반환하고

  아니면 오른쪽의 참조를 이어간다.

  ```js
  var elem = null;
  var value = elem?.value; // undefined
  ```



?????? "null병합연산자", "옵셔널 체이닝 연산자" 애네가 왜필요할까????????

논리 연산자에서 Falsy 값은 false로 타입변환이 일어난다. 

그런데 '' 이거나'0' 의 경우 객체나 값으로 판정될 수도 있기 때문에 오류의 위험이 있다는점이다.







































