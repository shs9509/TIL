### AJAX

- 서버와 통신하기 위해서 XMLHttpRequest 객체 활용

- 사용자에 이벤트가 있으면 일부분만 업데이트 한다.

- 요즘은 Json 더많이사용

example

- Gmail 

  메일 전송눌르고 다른 페이지로 넘어가서 딴짓을 해도 메일을 알아서 전송됨

- 지도 웹

  위치를 찾는 행위하나가 모두 요청인데 페이지는 갱신안됨





- 동기

순차적 태스크 수행

요청을 보내고 응답을 받아야함 다음동작이 이루어짐(blocking)

- 비동기

병렬적 태스크  수행

요청을 보내고 응답을 기다리지 않고 다음동작이 이루어짐(non-blocking)



- 왜 비동기 선호? > 사용자경험을 위해 (기다리기가 싫다!)



### Thread

- 프로그램이 작업을 완료하는데 사용할수있는 단일프로세스

- 각 스레드는 한번에 하나작업을 한다.

- cpu가 여러개면 여러개의 일을 처리가능



**JS는 single threaded**

- 이벤트를 처리하는 Call Stack이 하나인 언어

- 즉시처리못하는 이벤트를 **Web API**로 보내고 처리

  처리된이벤트는 순서대로 **Task Q**에 넣고

  **Call stack**이비면 **Event Loop**가 옮겨줌 



### 동시성모델

(이벤트 루프기반) 채택 - 싱글스레드를 보안하는거

- call stack

  요청이 들어올떄마다 요청을 처리하는 스택형태의 자료구조

- web API

  브라우저영역에서 제공하는 API

- 태스크 큐

  콜백함수가 대기하는큐 형태의 자료구조

- 이벤트 루프

  콜스택이 비어있는지 확인

example

셋타임아웃 함수의 경우

- 몇초(최소시간)후에 태스크큐로 가겟다.(콜백으로 가는게 아님)
  - 순서를 보장할수가없음 웹API에서 처리된 순서대로 대기큐에 들어가기때문



**문제!** 

웹 API에서 순차적인 일처리를 못함!

**해결!**

- 순차적인 비동기 처리를 위해



### 콜백함수

다른함수에 인자로 전달된 함수



### 순차적인 연쇄 비동기작업

- 콜백안에 콜백을부르고 계속 부름

- 콜백지옥, 파멸의 피라미드

해결

- 비동기 콜백방식
  - 함수(콜백함수)  > 순서를 직접작성해줌
  - addEventListner() 의 두번째 인자
- promise-style
  - 콜백함수의 다음 표현



### JS 는 일급객체

다른객체들에 적용가능한 연상을 모두지원하는 객채

1.인자를 넘기수있어야됨

2.함수의 반환값으로 사용할수있어랴함

3.변수에 할당할수있어야함







https://joshua1988.github.io/web-development/javascript/javascript-asynchronous-operation/#%EC%BD%9C%EB%B0%B1-%EC%A7%80%EC%98%A5-callback-hell